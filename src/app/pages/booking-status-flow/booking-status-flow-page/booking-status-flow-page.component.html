<div class="banner_section">
    <div class="inner_banner_section">
    </div>
</div>
<div class="brands_section_area">
    <div class="inner_brands_section">
        <div class="container">
            <div class="row">
                <div class="col-xl-12 booking-status-content">
                    <div class="main_brands_area">
                        <div class="inner_breand_logo">
                            <h2 class="heading">Booking</h2>
                            <div class="choose_car_box">
                                <div class="inner_choose_car_box">
                                    <div class="choose_car_box_main">
                                        <div class="row">
                                            <div class="col-xl-6">
                                                <div class="row">
                                                    <h2 class="bodyheading">My Active booking</h2>
                                                </div>
                                                <div class="row card_section" *ngFor="let eachbookingData of activeBookings" [ngStyle]="{'background-color': bgColor1}" (click)="changeBackgroundColor(1)">
                                                    <div class="col-md-4">
                                                        <div class="card_image_section">
                                                            <img src="./assets/images/cust_car.png" alt=""
                                                                srcset="">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-8">
                                                        <br>
                                                        <p class="vehicle-details">{{eachbookingData.cv_plate_number}}</p>
                                                        <p class="vehicle-details">{{eachbookingData.cv_make}} {{eachbookingData.cv_model}} {{eachbookingData.cv_variant}}</p>
                                                        <br>
                                                        <p class="vehicle-details">{{eachbookingData.pkg_name}}({{eachbookingData.bk_number}})</p>
                                                        <p class="vehicle-details">Date: {{eachbookingData.bk_booking_date | date : 'dd-MM-yyyy'}}</p>
                                                        <p class="vehicle-details">Time: {{ formatTime(eachbookingData.tm_start_time) }} - {{ formatTime(eachbookingData.tm_end_time) }}</p>
                                                        <br>
                                                    </div>
                                                </div>
                                                <br>
                                            </div>
                                            <br>
                                            <div class="col-xl-6" *ngIf="workcard_showFlag==0">
                                                <br>
                                                <div class="row">
                                                    <h2 class="bodyheading">Booking Status</h2>
                                                </div>
                                                <div class="row" *ngFor="let eachdata of statusFlow">
                                                    <div class="col-md-4 d-flex justify-content-center align-items-center">
                                                        <div class="status_image_section">
                                                            <img src="{{eachdata.icon}}" style=" width: 74px; height: 74px;">
                                                        </div>
                                                      </div>
                                                      <div class="col-md-6">
                                                        <p class="status-details">{{eachdata.status}}</p>
                                                        <p class="status-details">{{eachdata.dateandtime}}</p>
                                                      </div>
                                                      <div class="col-md-2">
                                                        <button status="primary" (click)="onWorkcardSelection(1);" *ngIf="eachdata.code=='WIPC'">Workcard</button>
                                                      </div>
                                                    <br>
                                                </div>
                                                
                                            </div>
                                            <div class="col-xl-6" *ngIf="workcard_showFlag==1">
                                                <br>
                                                <div class="row">
                                                    <h2 class="bodyheading">Workcard</h2>
                                                </div>
                                                <div class="row">
                                                    <table id="package_table">
                                                        <thead>
                                                          <tr>
                                                            <th
                                                              colspan="9"
                                                              style="text-align: center; background-color: #eee; font-size: 1rem"
                                                            >
                                                              Package & Additional Jobs
                                                            </th>
                                                          </tr>
                                                          <tr>
                                                            <th >No</th>
                                                            <th>Job Name</th>
                                                            <th>Amount.</th>
                                                            <th>Status</th>
                                                          </tr>
                                                        </thead>
                                                        <tbody>
                                                          <tr *ngFor="let eachjob of booing_jobs; let i=index;">
                                                            <td>#{{i+1}}</td>
                                                            <td style="text-align: center;">{{eachjob.bkj_jobname}}</td>
                                                            <td>AED {{eachjob.bkj_cust_cost}}</td>
                                                            <td class="amount" style=" color: red;" *ngIf="eachjob.bkj_status==1">Pending</td>
                                                            <td class="amount" style=" color: green;" *ngIf="eachjob.bkj_status==2">Approved</td>
                                                          </tr>
                                                        </tbody>
                                                        <tfoot>
                                                          <!-- <tr *ngFor="let eachextra of bookingData.controls['additional_labourandsparecost'].value;let z = index">
                                                            <td colspan="3"  style="font-size: .7vw;" *ngIf="eachextra.type=='Service'">Total labour cost<label style=" font-size: 8px; ">({{eachextra.vendor_name}})</label></td>
                                                            <td colspan="3"  style="font-size: .7vw;" *ngIf="eachextra.type=='Spare'">Total spare cost<label style=" font-size: 8px; ">({{eachextra.vendor_name}})</label></td>
                                                            <td class="amount" style="font-size: .7vw;"> {{ eachextra.total_cost * 1 / 1.05 | number : "1.2-2"}}</td>
                                                            <td class="amount" style="font-size: .7vw;">{{ eachextra.total_cost*1 - eachextra.total_cost * 1 / 1.05 | number: "1.2-2" }}</td>
                                                            <td class="amount" style="font-size: .7vw;">{{ eachextra.total_cost | number: "1.2-2" }}</td>
                                                            <td class="amount"></td>
                                                            <td colspan="2" class="amount">
                                                            </td>
                                                          </tr> -->
                                                        </tfoot>
                                                      </table>
                                                    
                                                    <br>
                                                </div>
                                                
                                            </div>
                                        </div>
                                        <br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>